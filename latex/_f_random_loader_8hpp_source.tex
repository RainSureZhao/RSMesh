\doxysection{FRandom\+Loader.\+hpp}
\hypertarget{_f_random_loader_8hpp_source}{}\label{_f_random_loader_8hpp_source}\index{third\_party/ScalFMM/include/ScalFMM/Files/FRandomLoader.hpp@{third\_party/ScalFMM/include/ScalFMM/Files/FRandomLoader.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ See\ LICENCE\ file\ at\ project\ root}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#ifndef\ FHLOADER\_HPP}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#define\ FHLOADER\_HPP}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <cstdlib>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <ctime>}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}../Utils/FGlobal.hpp"{}}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}FAbstractLoader.hpp"{}}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ "{}../Utils/FPoint.hpp"{}}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}../Components/FParticleType.hpp"{}}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00021\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ FReal>}
\DoxyCodeLine{00022\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_f_random_loader}{FRandomLoader}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_f_abstract_loader}{FAbstractLoader}}<FReal>\ \{}
\DoxyCodeLine{00023\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keyword}{const}\ FSize\ nbParticles;\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//<\ the\ number\ of\ particles}}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keyword}{const}\ FReal\ boxWidth;\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//<\ the\ box\ width}}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_f_point}{FPoint<FReal>}}\ centerOfBox;\ \ \ \ \textcolor{comment}{//<\ The\ center\ of\ box}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00037\ \ \ \ \ \mbox{\hyperlink{class_f_random_loader_abe78a826f876ca67944f308f2c396aa3}{FRandomLoader}}(\textcolor{keyword}{const}\ FSize\ inNbParticles,\ \textcolor{keyword}{const}\ FReal\ inBoxWidth\ =\ 1.0,}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_f_point}{FPoint<FReal>}}\&\ inCenterOfBox\ =\ \mbox{\hyperlink{class_f_point}{FPoint<FReal>}}(0,0,0),}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ inSeed\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\textcolor{keyword}{>}(time(\textcolor{keyword}{nullptr})))}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ :\ nbParticles(inNbParticles),\ boxWidth(inBoxWidth),\ centerOfBox(inCenterOfBox)\ \{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ srand48(inSeed);}
\DoxyCodeLine{00042\ \ \ \ \ \}}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_f_random_loader_a4ac1ad92e53c39371551719ced86f6b0}{\string~FRandomLoader}}()\{}
\DoxyCodeLine{00047\ \ \ \ \ \}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_f_random_loader_ade10eb1237fc856a9d9eb25c4b9f98ff}{isOpen}}()\textcolor{keyword}{\ const}\{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00054\ \ \ \ \ \}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00060\ \ \ \ \ FSize\ \mbox{\hyperlink{class_f_random_loader_ae89fc8d0094362544726dd52377b9089}{getNumberOfParticles}}()\textcolor{keyword}{\ const}\{}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ FSize(this-\/>nbParticles);}
\DoxyCodeLine{00062\ \ \ \ \ \}}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00068\ \ \ \ \ \mbox{\hyperlink{class_f_point}{FPoint<FReal>}}\ \mbox{\hyperlink{class_f_random_loader_a8614c831bbe9120125931a36cd4fd2b5}{getCenterOfBox}}()\textcolor{keyword}{\ const}\{}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>centerOfBox;}
\DoxyCodeLine{00070\ \ \ \ \ \}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00076\ \ \ \ \ FReal\ \mbox{\hyperlink{class_f_random_loader_a256450fd24db70862715bb8da6480912}{getBoxWidth}}()\textcolor{keyword}{\ const}\{}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>boxWidth;}
\DoxyCodeLine{00078\ \ \ \ \ \}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_f_random_loader_a79ad94ee19f3f9528521029cb0905356}{fillParticle}}(\mbox{\hyperlink{class_f_point}{FPoint<FReal>}}*\textcolor{keyword}{const}\ inParticlePositions)\{}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ inParticlePositions-\/>\mbox{\hyperlink{class_f_point_ad2eec275cf9bddb1c00acff4f7873e4d}{setPosition}}(}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{class_f_random_loader_ab96b9dca113d0319dfc63a944d18988b}{getRandom}}()\ *\ boxWidth)\ +\ centerOfBox.\mbox{\hyperlink{class_f_point_a58d3859160347552d6a4a94fbdf883c3}{getX}}()\ -\/\ boxWidth/2,}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{class_f_random_loader_ab96b9dca113d0319dfc63a944d18988b}{getRandom}}()\ *\ boxWidth)\ +\ centerOfBox.\mbox{\hyperlink{class_f_point_ae4383512b9b8d216775b3fb92325cfc9}{getY}}()\ -\/\ boxWidth/2,}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{class_f_random_loader_ab96b9dca113d0319dfc63a944d18988b}{getRandom}}()\ *\ boxWidth)\ +\ centerOfBox.\mbox{\hyperlink{class_f_point_a02208d4db50cbafe597adcbfb152b536}{getZ}}()\ -\/\ boxWidth/2);}
\DoxyCodeLine{00090\ \ \ \ \ \}}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00093\ \ \ \ \ FReal\ \mbox{\hyperlink{class_f_random_loader_ab96b9dca113d0319dfc63a944d18988b}{getRandom}}()\textcolor{keyword}{\ const}\{}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ FReal(drand48());}
\DoxyCodeLine{00095\ \ \ \ \ \}}
\DoxyCodeLine{00096\ \};}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00102\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ FReal>}
\DoxyCodeLine{00103\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_f_random_loader_tsm}{FRandomLoaderTsm}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_f_random_loader}{FRandomLoader}}<FReal>\ \{}
\DoxyCodeLine{00104\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00105\ \ \ \ \ \mbox{\hyperlink{class_f_random_loader_tsm}{FRandomLoaderTsm}}(\textcolor{keyword}{const}\ FSize\ inNbParticles,\ \textcolor{keyword}{const}\ FReal\ inBoxWidth\ =\ 1.0,}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_f_point}{FPoint<FReal>}}\&\ inCenterOfBox\ =\ \mbox{\hyperlink{class_f_point}{FPoint<FReal>}}(0,0,0),\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ inSeed\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\textcolor{keyword}{>}(time(\textcolor{keyword}{nullptr})))}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{class_f_random_loader}{FRandomLoader<FReal>}}(inNbParticles,inBoxWidth,inCenterOfBox,inSeed)\ \{}
\DoxyCodeLine{00108\ \ \ \ \ \}}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keywordtype}{void}\ fillParticle(\mbox{\hyperlink{class_f_point}{FPoint<FReal>}}*\textcolor{keyword}{const}\ inParticlePositions,\ FParticleType*\textcolor{keyword}{const}\ isTarget)\{}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_f_random_loader_a79ad94ee19f3f9528521029cb0905356}{FRandomLoader<FReal>::fillParticle}}(inParticlePositions);}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_f_random_loader}{FRandomLoader<FReal>::getRandom}}()\ >\ 0.5\ )\ (*isTarget)\ =\ FParticleType::FParticleTypeTarget;}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ (*isTarget)\ =\ FParticleType::FParticleTypeSource;}
\DoxyCodeLine{00115\ \ \ \ \ \}}
\DoxyCodeLine{00116\ \};}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//FHLOADER\_HPP}}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ }

\end{DoxyCode}
