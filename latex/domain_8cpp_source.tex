\doxysection{domain.\+cpp}
\hypertarget{domain_8cpp_source}{}\label{domain_8cpp_source}\index{src/preconditioner/domain.cpp@{src/preconditioner/domain.cpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00001}00001\ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00002}00002\ \textcolor{comment}{//\ Created\ by\ RainSure\ on\ 2024/2/18.}}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00003}00003\ \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00005}00005\ \textcolor{preprocessor}{\#include\ "{}preconditioner/domain.h"{}}}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00006}00006\ \textcolor{preprocessor}{\#include\ "{}Eigen/Core"{}}}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00007}00007\ \textcolor{preprocessor}{\#include\ "{}common/zip\_sort.h"{}}}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00008}00008\ \textcolor{preprocessor}{\#include\ <algorithm>}}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00009}00009\ \textcolor{preprocessor}{\#include\ <iterator>}}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00011}00011\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacersmesh_1_1preconditioner}{rsmesh::preconditioner}}\ \{}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00012}00012\ \ \ \ \ index\_t\ domain::size()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}index\_t\textcolor{keyword}{>}(point\_indices.size());\ \}}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00014}00014\ \ \ \ \ index\_t\ domain::grad\_size()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}index\_t\textcolor{keyword}{>}(grad\_point\_indices.size());\ \}}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00016}00016\ \ \ \ \ index\_t\ domain::mixed\_size()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ size()\ +\ grad\_size();\ \}}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00018}00018\ \ \ \ \ \textcolor{keywordtype}{void}\ domain::merge\_poly\_points(\textcolor{keyword}{const}\ std::vector<index\_t>\&\ poly\_point\_idcs)\ \{}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00019}00019\ \ \ \ \ \ \ \ \ common::zip\_sort(point\_indices.begin(),\ point\_indices.end(),\ inner\_point.begin(),}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00020}00020\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ inner\_point.end(),}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00021}00021\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [](\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ a,\ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ b)\ \{\ return\ a.first\ <\ b.first;\ \});}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00023}00023\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ n\_poly\_points\ =\ \textcolor{keyword}{static\_cast<}index\_t\textcolor{keyword}{>}(poly\_point\_idcs.size());}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00024}00024\ \ \ \ \ \ \ \ \ std::vector<index\_t>\ new\_point\_indices(poly\_point\_idcs);}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00025}00025\ \ \ \ \ \ \ \ \ std::vector<bool>\ new\_inner\_point(n\_poly\_points);}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00027}00027\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (index\_t\ i\ =\ 0;\ i\ <\ n\_poly\_points;\ i++)\ \{}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00028}00028\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ idx\ =\ poly\_point\_idcs.at(i);}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00029}00029\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ std::lower\_bound(point\_indices.begin(),\ point\_indices.end(),\ idx);}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00030}00030\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ ==\ point\_indices.end()\ ||\ *it\ !=\ idx)\ \{}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00031}00031\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00032}00032\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00034}00034\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ it\_inner\ =\ inner\_point.begin()\ +\ std::distance(point\_indices.begin(),\ it);}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00035}00035\ \ \ \ \ \ \ \ \ \ \ \ \ new\_inner\_point.at(i)\ =\ *it\_inner;}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00036}00036\ }
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00037}00037\ \ \ \ \ \ \ \ \ \ \ \ \ point\_indices.erase(it);}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00038}00038\ \ \ \ \ \ \ \ \ \ \ \ \ inner\_point.erase(it\_inner);}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00039}00039\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00041}00041\ \ \ \ \ \ \ \ \ new\_point\_indices.insert(new\_point\_indices.end(),\ point\_indices.begin(),\ point\_indices.end());}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00042}00042\ \ \ \ \ \ \ \ \ new\_inner\_point.insert(new\_inner\_point.end(),\ inner\_point.begin(),\ inner\_point.end());}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00044}00044\ \ \ \ \ \ \ \ \ point\_indices\ =\ new\_point\_indices;}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00045}00045\ \ \ \ \ \ \ \ \ inner\_point\ =\ new\_inner\_point;}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00046}00046\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{domain_8cpp_source_l00047}00047\ \}}

\end{DoxyCode}
